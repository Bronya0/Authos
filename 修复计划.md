# Vue3 Naive UI 组件问题修复计划

## 问题分析

### 1. 控制台警告问题
- 错误信息：`Failed to resolve component: n-drawer` 和 `Failed to resolve component: n-drawer-content`
- 原因：在 `main.js` 中没有注册 `n-drawer` 和 `n-drawer-content` 组件

### 2. 数据显示问题
- 错误位置：`RoleMenuModal.vue` 第137行
- 错误内容：使用了未定义的 `showDrawer.value` 而不是 `showModal.value`
- 影响：导致菜单权限分配的抽屉无法正常关闭

## 修复方案

### 1. 修复 main.js 中的组件注册
需要在 `main.js` 中添加以下未注册的组件：
- `n-drawer`
- `n-drawer-content`
- `n-switch` (在 Menus.vue 中使用)
- `n-tree-select` (在 Menus.vue 中使用)
- `n-steps` (在 Login.vue 中使用)
- `n-step` (在 Login.vue 中使用)
- `n-empty` (在 AppSelection.vue 中使用)
- `n-divider` (在 AppLogin.vue 中使用)
- `n-input-number` (在 Menus.vue 中使用)

### 2. 修复 RoleMenuModal.vue 中的变量引用错误
- 将第137行的 `showDrawer.value = false` 修改为 `showModal.value = false`

## 实施步骤

1. 修改 `web-vue3/src/main.js`，添加缺失的组件注册
2. 修改 `web-vue3/src/components/RoleMenuModal.vue`，修复变量引用错误
3. 测试修复后的功能是否正常工作

## 预期结果

修复后，应该：
1. 消除控制台中的组件解析警告
2. 菜单权限分配抽屉能够正常打开和关闭
3. 所有使用 Naive UI 组件的页面都能正常显示